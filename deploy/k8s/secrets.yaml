# SPDX-License-Identifier: PLMP-1.0-or-later
# hypatia Kubernetes Secrets Template
#
# IMPORTANT: This is a TEMPLATE file. Do NOT commit actual secrets!
#
# Usage:
#   1. Copy this file: cp secrets.yaml secrets.local.yaml
#   2. Edit secrets.local.yaml with real values (base64 encoded)
#   3. Apply: kubectl apply -f secrets.local.yaml
#   4. Add secrets.local.yaml to .gitignore
#
# To base64 encode values:
#   echo -n 'your-secret-value' | base64
#
# For production, use:
#   - HashiCorp Vault
#   - AWS Secrets Manager
#   - Azure Key Vault
#   - GCP Secret Manager
#   - Sealed Secrets
#   - External Secrets Operator
---
apiVersion: v1
kind: Secret
metadata:
  name: hypatia-secrets
  namespace: hypatia
  labels:
    app.kubernetes.io/name: hypatia
    app.kubernetes.io/component: secrets
    app.kubernetes.io/part-of: hypatia
type: Opaque
data:
  # ArangoDB credentials
  # echo -n 'root' | base64 = cm9vdA==
  arangodb-user: cm9vdA==
  # echo -n 'CHANGE_ME_IN_PRODUCTION' | base64
  arangodb-password: Q0hBTkdFX01FX0lOX1BST0RVQ1RJT04=
  # echo -n 'CHANGE_ME_IN_PRODUCTION' | base64
  arangodb-root-password: Q0hBTkdFX01FX0lOX1BST0RVQ1RJT04=

  # Dragonfly (Redis) password
  # echo -n 'CHANGE_ME_IN_PRODUCTION' | base64
  dragonfly-password: Q0hBTkdFX01FX0lOX1BST0RVQ1RJT04=

  # Grafana admin credentials
  # echo -n 'admin' | base64 = YWRtaW4=
  grafana-admin-user: YWRtaW4=
  # echo -n 'CHANGE_ME_IN_PRODUCTION' | base64
  grafana-admin-password: Q0hBTkdFX01FX0lOX1BST0RVQ1RJT04=
---
apiVersion: v1
kind: Secret
metadata:
  name: forge-credentials
  namespace: hypatia
  labels:
    app.kubernetes.io/name: hypatia
    app.kubernetes.io/component: secrets
    app.kubernetes.io/part-of: hypatia
type: Opaque
data:
  # GitHub Personal Access Token
  # echo -n 'ghp_xxxxxxxxxxxx' | base64
  github-token: ""

  # GitLab Personal Access Token
  # echo -n 'glpat-xxxxxxxxxxxx' | base64
  gitlab-token: ""

  # Bitbucket App Password
  # echo -n 'username' | base64
  bitbucket-user: ""
  # echo -n 'app-password' | base64
  bitbucket-app-password: ""

  # Codeberg Token
  # echo -n 'token' | base64
  codeberg-token: ""
---
apiVersion: v1
kind: Secret
metadata:
  name: tls-certificates
  namespace: hypatia
  labels:
    app.kubernetes.io/name: hypatia
    app.kubernetes.io/component: secrets
    app.kubernetes.io/part-of: hypatia
type: kubernetes.io/tls
data:
  # TLS certificate and key (base64 encoded)
  # For production, use cert-manager to automatically provision certificates
  tls.crt: ""
  tls.key: ""
---
# ExternalSecret example for HashiCorp Vault integration
# Requires External Secrets Operator to be installed
# Uncomment and configure as needed
#
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: hypatia-vault-secrets
#   namespace: hypatia
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: vault-backend
#     kind: ClusterSecretStore
#   target:
#     name: hypatia-secrets
#     creationPolicy: Owner
#   data:
#     - secretKey: arangodb-password
#       remoteRef:
#         key: secret/data/hypatia/arangodb
#         property: password
#     - secretKey: dragonfly-password
#       remoteRef:
#         key: secret/data/hypatia/dragonfly
#         property: password
#     - secretKey: github-token
#       remoteRef:
#         key: secret/data/hypatia/forge
#         property: github-token
